<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Portfolio Créatif - Grille Effet Papier</title>
    <!-- Chargement de Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f7f7f7; /* Blanc cassé/Gris très clair pour le fond "papier" */
            --accent-color: #ff6f61; /* Rouge-corail pour l'accentuation (Gardé pour le bouton principal de la modale) */
            --grid-color: #e0e0e0; /* Gris clair pour le quadrillage */
            --text-color: #1e1e1e; /* Texte sombre sur fond clair */
            
            /* Couleurs des nouvelles formes */
            --blue-circle: #317FF5;
            --orange-square: #F5A731;
            /* Nouvelle couleur d'accentuation pour l'ombre de survol */
            --green-glow: 49, 245, 69; /* RGB de #31F545 */
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 2rem;
            min-height: 100vh;
            position: relative; 
            z-index: 1; /* Assure que le contenu est au-dessus du pseudo-élément */
        }

        /* Pseudo-élément pour le quadrillage: NON FIXE, il défile avec le contenu */
        body::before {
            content: '';
            position: absolute; /* Reste 'absolute' pour défiler */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%; /* S'étend sur toute la hauteur du body (défile) */
            background-image: linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                              linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            background-size: 30px 30px; /* Taille de la maille du quadrillage */
            z-index: -1; /* Place le quadrillage derrière le contenu */
        }

        /* Styles pour l'effet "diforme" et interactif sur les cartes */
        .portfolio-card {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border-radius: 12px;
            overflow: hidden;
            /* Ombre plus contrastée sur fond clair */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            /* Assure que l'image couvre toute la carte sans déformation */
            display: flex;
            align-items: stretch;
            justify-content: stretch;
            border: 1px solid #c2c2c2; /* Bordure pour simuler un "collé" sur le papier */
            
            /* FIX 1A: Aspect Ratio par défaut (Carré 1:1) pour éviter l'écrasement */
            aspect-ratio: 1 / 1; 
            height: 100%; /* S'assurer de bien remplir l'espace grille */
        }

        /* Ajustements d'aspect ratio pour les cartes larges (col-span-2, ratio 2:1) */
        .grid-diforme .col-span-2:not(.row-span-2) {
            aspect-ratio: 2 / 1;
        }
        
        /* Ajustements d'aspect ratio pour la carte haute (row-span-2, ratio 1:2) */
        .grid-diforme .row-span-2 {
            aspect-ratio: 1 / 2;
        }

        /* CURSEUR ET EFFET DE SURVOL CONDITIONNELS */
        .portfolio-card[data-project-details]:hover,
        a.portfolio-card:hover { 
            cursor: pointer;
            transform: scale(1.02) rotateZ(-0.5deg); 
            /* MODIFIÉ: Utilise la lueur verte (Green Glow) */
            box-shadow: 0 12px 35px rgba(var(--green-glow), 0.4); 
            z-index: 10;
        }
        /* L'opacité du titre n'est plus modifiée au survol (voir FIX 2) */

        .portfolio-card > img {
            min-height: 100%;
            min-width: 100%;
            object-fit: cover; 
        }

        /* Style pour le titre de la carte (Laissé ici même s'il est retiré du HTML) */
        .card-title {
            position: absolute;
            bottom: 0;
            left: 0;
            padding: 1rem;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0));
            width: 100%;
            color: white;
            font-weight: 800;
            /* Rendu TOUJOURS visible (mais l'élément est maintenant absent du HTML) */
            opacity: 1; 
            transition: opacity 0.3s ease-in-out;
        }


        /* Utilisation d'un grid pour simuler un layout "masonry" ou "diforme" */
        .grid-diforme {
            grid-template-columns: repeat(4, 1fr); 
            gap: 1rem;
            /* FIX 1B: Laisser la hauteur s'adapter à l'aspect ratio des cartes */
            grid-auto-rows: auto; 
        }
        @media (max-width: 768px) {
            .grid-diforme {
                grid-template-columns: repeat(2, 1fr); 
                grid-auto-rows: auto;
            }
        }
        
        /* --- Styles pour masquer la barre de défilement --- */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .slideshow-container {
            scroll-behavior: smooth;
        }

        /* --- STYLES DES FORMES D'ARRIÈRE-PLAN --- */
        #background-shapes {
            position: absolute; /* Reste 'absolute' pour défiler */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%; /* S'étend sur toute la hauteur du body (défile) */
            pointer-events: none; /* Ignorer les clics */
            z-index: -2; /* Derrière la grille (-1) et le contenu */
            overflow: hidden;
        }

        .bg-shape {
            position: absolute;
            opacity: 0.6; 
            transition: all 0.5s ease-out; 
        }

        /* Cercles Bleus (#317FF5) */
        .bg-circle {
            border-radius: 50%;
            background-color: var(--blue-circle);
        }

        /* Carrés Orangés (#F5A731) - Rotations et tailles variées */
        .bg-square {
            background-color: var(--orange-square);
        }

        /* Détails des 5 Cercles : DISPERSION MAXIMALE SUR LA ZONE */
        .bg-circle-1 { top: 15%; left: 5%; width: 100px; height: 100px; } /* Coin Supérieur Gauche */
        .bg-circle-2 { bottom: 5%; left: 5%; width: 160px; height: 160px; } /* Coin Inférieur Gauche (corrigé) */
        .bg-circle-3 { top: 5%; right: 1%; width: 60px; height: 60px; } /* Très Haut Droite */
        .bg-circle-4 { top: 35%; left: 15%; width: 200px; height: 200px; opacity: 0.4; } /* Moyen-Haut Gauche, grande et transparente (opacity rétablie) */ 
        .bg-circle-5 { bottom: 1%; right: 5%; width: 260px; height: 260px; } /* Très Bas Droite, très grand */

        /* Détails des 5 Carrés Inclinés : DISPERSION MAXIMALE SUR LA ZONE */
        .bg-square-1 { top: 15%; right: 20%; width: 140px; height: 140px; transform: rotate(15deg); opacity: 0.6; } /* Haut Droite (opacity rétablie) */
        .bg-square-2 { top: 63%; left: 20%; width: 80px; height: 80px; transform: rotate(-30deg); opacity: 0.7; } /* Milieu Gauche (opacity rétablie) */
        .bg-square-3 { bottom: 10%; left: 45%; width: 40px; height: 40px; transform: rotate(45deg); opacity: 0.6; } /* Bas Centre, petit (opacity rétablie) */
        .bg-square-4 { bottom: 40%; right: 30%; width: 180px; height: 180px; transform: rotate(-10deg); opacity: 0.4; } /* Milieu Bas Droite (opacity rétablie) */ 
        .bg-square-5 { top: 60%; right: 5%; width: 100px; height: 100px; transform: rotate(25deg); opacity: 0.6; } /* Milieu Droite (opacity rétablie) */
    </style>
</head>
<body>

    <!-- CONTENEUR DES FORMES D'ARRIÈRE-PLAN (Z-INDEX: -2) -->
    <!-- Position: absolute pour qu'elles défilent avec le contenu -->
    <div id="background-shapes">
        <!-- Cercles Bleus (#317FF5) -->
        <div class="bg-shape bg-circle bg-circle-1"></div>
        <div class="bg-shape bg-circle bg-circle-2"></div>
        <div class="bg-shape bg-circle bg-circle-3"></div>
        <div class="bg-shape bg-circle bg-circle-4"></div>
        <div class="bg-shape bg-circle bg-circle-5"></div>
        
        <!-- Carrés Orangés Inclinés (#F5A731) -->
        <div class="bg-shape bg-square bg-square-1"></div>
        <div class="bg-shape bg-square bg-square-2"></div>
        <div class="bg-shape bg-square bg-square-3"></div>
        <div class="bg-shape bg-square bg-square-4"></div>
        <div class="bg-shape bg-square bg-square-5"></div>
    </div>


    <main class="max-w-5xl mx-auto">
        <!-- En-tête du Portfolio : Couleurs synchronisées avec la modale -->
        <header class="mb-12 pt-4 pb-6">
            <!-- H1 en Vert Électrique (#31F545) -->
            <h1 class="text-4xl font-extrabold" style="color: #31F545;">Mon Studio Créatif</h1>
            <!-- P en Rose Fuchsia Vif (#F531E1) -->
            <p class="text-lg mt-2" style="color: #F531E1;">Une sélection de mes travaux récents en design, développement et art digital.</p>
        </header>

        <!-- GRILLE DE PORTFOLIO "DIFORME" --><div class="grid grid-diforme">

            <!-- Carte 1: Bannière Article 1 (PAS DE POP-UP) -->
            <div class="portfolio-card col-span-2 bg-gray-800 hover:bg-gray-700">
                <img src="./banniere-article-1.png" alt="Bannière Article 1" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

            <!-- Carte 2: Bannière Article 2 (LIEN INSTAGRAM) -->
            <a href="https://www.instagram.com/">
                <img src="./banniere-article-2.png" alt="Bannière Article 2" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </a>

            <!-- Carte 3: Bannière Article 3 (AVEC POP-UP, 3 PHOTOS) -->
            <div class="portfolio-card row-span-2 bg-gray-600 hover:bg-gray-500"
                data-project-details="Contenu détaillé de la Bannière Article 3. Explorez nos études de cas en UI/UX pour des expériences mobiles fluides."
                data-project-image-1="./image-3-1.png"
                data-project-image-2="./image-3-2.png"
                data-project-image-3="./image-3-3.png">
                <img src="./banniere-article-3.png" alt="Bannière Article 3" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

            <!-- Carte 4: Bannière Article 4 (PAS DE POP-UP) -->
            <div class="portfolio-card bg-gray-900 hover:bg-gray-800">
                <img src="./banniere-article-4.png" alt="Bannière Article 4" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

            <!-- Carte 5: Bannière Article 5 (AVEC POP-UP, 1 GIF) -->
            <div class="portfolio-card col-span-2 bg-gray-800 hover:bg-gray-700"
                data-project-details="Contenu détaillé de la Bannière Article 5. Une collection de nos plus belles œuvres photographiques urbaines."
                data-project-gif="./article-5-GIF.gif">
                <img src="./banniere-article-5.png" alt="Bannière Article 5" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

            <!-- Carte 6: Bannière Article 6 (AVEC POP-UP, 3 PHOTOS) -->
            <div class="portfolio-card col-span-2 bg-gray-700 hover:bg-gray-600"
                data-project-details="Contenu détaillé de la Bannière Article 6. Découvrez nos projets d'identité visuelle et de recherche utilisateur intégrée."
                data-project-image-1="./image-6-1.png"
                data-project-image-2="./image-6-2.png"
                data-project-image-3="./image-6-3.png">
                <img src="./banniere-article-6.png" alt="Bannière Article 6" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

            <!-- Carte 7: Bannière Article 7 (PAS DE POP-UP) -->
            <div class="portfolio-card bg-gray-800 hover:bg-gray-700">
                <img src="./banniere-article-7.png" alt="Bannière Article 7" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

            <!-- Carte 8: Bannière Article 8 (AVEC POP-UP, 3 PHOTOS) -->
            <div class="portfolio-card bg-gray-700 hover:bg-gray-600"
                data-project-details="Contenu détaillé de la Bannière Article 8. Un espace pour vos futurs projets, concepts innovants ou collaborations à venir."
                data-project-image-1="./image-8-1.png"
                data-project-image-2="./image-8-2.png"
                data-project-image-3="./image-8-3.png">
                <img src="./banniere-article-8.png" alt="Bannière Article 8" class="w-full h-full object-cover">
                <!-- Titres supprimés -->
            </div>

        </div>
    </main>

    <!-- Footer pour la mention de copyright --><footer class="text-center mt-16 text-gray-500 text-sm">
        <p>Made with ❤️ by Rafael</p>
    </footer>

    <!-- Modale personnalisée (incluse pour que la fonction alertModal fonctionne) -->
    <!-- Le contenu de la modale est généré dynamiquement par alertModal en JS -->

    <!-- Script pour le comportement des cartes (Modale simple) -->
    <script>
        // Variable globale pour stocker l'intervalle de défilement
        let slideshowInterval = null;

        // --- Fonctions de Modale et Défilement ---

        // Fonction pour cacher la modale et stopper le défilement
        function closeModal() {
            // Arrête le défilement automatique s'il est actif
            if (slideshowInterval) {
                clearInterval(slideshowInterval);
                slideshowInterval = null;
            }

            const modal = document.getElementById('custom-modal');
            if (modal) {
                modal.classList.remove('opacity-100', 'pointer-events-auto');
                const modalContent = modal.querySelector('.modal-content-container');
                if (modalContent) {
                    modalContent.classList.remove('scale-100');
                    modalContent.classList.add('scale-90');
                }
            }
        }
        
        // Initialisation des événements de clic pour les cartes
        document.querySelectorAll('.portfolio-card').forEach(card => {
            // La logique pour les cartes interactives reste la même, car elle utilise les attributs data-project-*
            if (card.hasAttribute('data-project-details') || card.hasAttribute('data-project-gif')) { 
                card.addEventListener('click', () => {
                    // Puisque les titres sont supprimés, nous utilisons un titre générique pour la modale
                    const title = "Détails du Projet"; 
                    
                    const details = card.getAttribute('data-project-details') || "Aucune description détaillée n'est disponible pour le moment.";
                    const gif = card.getAttribute('data-project-gif'); 
                    
                    // Récupération des 3 URLs d'images
                    const images = [];
                    for(let i = 1; i <= 3; i++) {
                        const imgUrl = card.getAttribute(`data-project-image-${i}`);
                        if (imgUrl) images.push(imgUrl);
                    }

                    // On passe null ou une chaîne vide pour le texte du bouton, car il est supprimé
                    alertModal(title, details, images, gif, ""); 
                });
            }
        });

        // Fonction pour démarrer le défilement automatique (Slideshow)
        function startSlideshow(container) {
            // Arrête tout défilement précédent
            if (slideshowInterval) {
                clearInterval(slideshowInterval);
            }

            // Récupère toutes les images dans le conteneur
            const images = container.querySelectorAll('img');
            const imageCount = images.length;
            if (imageCount < 2) return; // Pas de défilement si moins de 2 images

            let currentIndex = 0;
            // Temps de défilement (pause + durée du glissement) = 2000ms (2 secondes)
            const scrollIntervalTime = 2000; 

            // La fonction qui gère le défilement
            const scrollNext = () => {
                const imageWidth = images[0].offsetWidth; 
                const gap = 16; // 16px pour le space-x-4 de Tailwind

                currentIndex++;
                if (currentIndex >= imageCount) {
                    // Si on est à la fin, on saute immédiatement à la première image
                    container.scrollTo({
                        left: 0,
                        behavior: 'auto' 
                    });
                    currentIndex = 0; // Réinitialise l'index
                } else {
                    // Sinon, on défile vers l'image suivante
                    const scrollLeft = currentIndex * (imageWidth + gap); 
                    container.scrollTo({
                        left: scrollLeft,
                        behavior: 'smooth' 
                    });
                }
            };
            
            // Démarrer l'intervalle avec le nouveau délai de 2 secondes (2000ms)
            slideshowInterval = setInterval(scrollNext, scrollIntervalTime);
        }


        // Fonction de modale (remplace l'alert() interdit)
        function alertModal(title, message, images = [], gifUrl = null, buttonText) {
            // S'assurer d'arrêter tout défilement précédent à l'ouverture de la modale
            if (slideshowInterval) {
                clearInterval(slideshowInterval);
                slideshowInterval = null;
            }
            
            let modal = document.getElementById('custom-modal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'custom-modal';
                modal.addEventListener('click', (e) => {
                    if (e.target.id === 'custom-modal') {
                        closeModal();
                    }
                });
                
                modal.className = 'fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none';
                
                // Modale : Fond en #FFFFFF
                // Couleur par défaut du texte du conteneur parent (utilisée par <p> message) en #F531E1 (Rose)
                modal.innerHTML = `
                    <div class="modal-content-container hide-scrollbar p-6 rounded-xl w-full shadow-2xl transform scale-90 transition-transform duration-300 relative max-w-3xl max-h-[90vh] overflow-y-auto" style="background-color: #FFFFFF; color: #F531E1;">
                        
                        <!-- Couleur du bouton de fermeture et de la croix en #F5A731, fond #FFFFFF -->
                        <button onclick="closeModal()" class="absolute top-3 right-3 text-[#F5A731] hover:text-[#ff6f61] transition-colors duration-200 p-2 rounded-full bg-[#FFFFFF] z-10">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                        </button>
                        
                        <div class="flex flex-col md:flex-row gap-6">
                            
                            <!-- Image/GIFs Container (40% largeur sur desktop, 100% sur mobile) --><div class="md:w-2/5 w-full flex-shrink-0">
                                <!-- Conteneur pour images multiples avec défilement horizontal (si images) --><div id="modal-images-container" class="slideshow-container flex overflow-x-auto space-x-4 pb-2 hide-scrollbar">
                                    <!-- Les images seront insérées ici par JS --></div>
                                <!-- Conteneur pour un GIF unique (si gifUrl) --><img id="modal-gif" class="w-full h-auto object-cover rounded-lg hidden aspect-square" alt="GIF du Projet">
                            </div>
                            
                            <!-- Text Content Container (60% largeur sur desktop, 100% sur mobile) --><div class="md:w-3/5 w-full">
                                <!-- Titre (h4) en #31F545 (Vert) -->
                                <h4 class="text-3xl font-bold mb-3" style="color: #31F545;" id="modal-title"></h4>
                                <!-- Le message (p) prend la couleur de texte par défaut du conteneur parent, soit #F531E1 (Rose) -->
                                <p class="mb-6 text-base" id="modal-message"></p>
                            </div>
                        </div>
                        
                        <!-- Le bouton "Fermer" a été retiré, seule la croix reste. -->
                    </div>
                `;
                document.body.appendChild(modal);
            }
            
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-message').textContent = message;
            // La logique pour le bouton 'modal-button' a été retirée.

            const imagesContainer = document.getElementById('modal-images-container');
            const gifElement = document.getElementById('modal-gif');
            
            // Réinitialiser les contenus
            imagesContainer.innerHTML = '';
            gifElement.classList.add('hidden');
            gifElement.src = '';

            if (gifUrl) {
                // Afficher le GIF (Article 5)
                // Le GIF est maintenant chargé depuis l'URL de l'attribut data-project-gif.
                gifElement.src = gifUrl;
                gifElement.classList.remove('hidden');
                imagesContainer.classList.add('hidden'); // Cacher le conteneur de défilement
            } else if (images.length > 0) {
                // Afficher la galerie (Articles 3, 6, 8)
                imagesContainer.classList.remove('hidden'); 
                images.forEach(imgSrc => {
                    const img = document.createElement('img');
                    img.src = imgSrc;
                    // Note: w-full pour que chaque image prenne la largeur du conteneur parent (md:w-2/5)
                    img.className = 'w-full h-auto object-cover rounded-lg flex-shrink-0 aspect-square'; 
                    img.alt = "Image du projet";
                    imagesContainer.appendChild(img);
                });

                // Démarrer le défilement automatique seulement s'il y a des images
                // Utiliser setTimeout pour s'assurer que toutes les images sont rendues et que clientWidth est correct
                setTimeout(() => {
                    startSlideshow(imagesContainer);
                }, 100); // Petit délai pour le rendu initial
            } else {
                 // Si ni gif ni images, cacher le conteneur média
                imagesContainer.classList.add('hidden'); 
            }

            // Afficher la modale
            setTimeout(() => {
                modal.classList.add('opacity-100', 'pointer-events-auto');
                const modalContent = modal.querySelector('.modal-content-container');
                if (modalContent) {
                    modalContent.classList.remove('scale-90');
                    modalContent.classList.add('scale-100');
                }
            }, 10);
        }
    </script>
</body>

</html>
